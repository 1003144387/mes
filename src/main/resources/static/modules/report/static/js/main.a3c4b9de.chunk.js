(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a(238)},111:function(e,t,a){},195:function(e,t,a){},228:function(e,t,a){},235:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a.n(o);a(111),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(18),s=a(19),i=a(21),u=a(20),p=a(22),m=a(241),f=a(243),h=a(242),d=(a(76),a(17)),E=a.n(d),y=(a(89),a(49)),b=a.n(y),v=(a(92),a(50)),S=a.n(v),g=(a(174),a(73)),k=a.n(g),w=(a(189),a(12)),z=a.n(w),O=a(39),C=a(26),T=(a(70),a(7)),Y=a.n(T),D=(a(195),a(11)),x=a.n(D),M=a(30),j=a.n(M),I=a(52),N=a(53),P=a.n(N);function _(e){return H.apply(this,arguments)}function H(){return(H=Object(I.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P.a.post("/api/report/simple",Object(C.a)({},t)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function R(){return(R=Object(I.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P.a.post("/api/report/list",Object(C.a)({},t)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function A(){return(A=Object(I.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P.a.post("/api/report/count",Object(C.a)({},t)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var L={getWeekRange:function(e){return x()().subtract(e,"week").startOf("week").add(1,"days").format("YYYY-MM-DD HH:mm:ss")},getMonthRange:function(e){return x()().subtract(e,"month").startOf("month").format("YYYY-MM-DD HH:mm:ss")},getNow:function(){return x()().format("YYYY-MM-DD HH:mm:ss")}},K=Y.a.Item,F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isShowModal:!1,weekReport:!0,isLoading:!1,startTime:L.getWeekRange(0),stopTime:L.getNow()},a.loadData=function(e){_(e).then(function(e){a.setState({reportData:Object(C.a)({},e.data.data)})}).catch(function(e){return console.log(e)})},a.panelContent=function(e){return e.map(function(e,t){return r.a.createElement(K,{key:t,onClick:function(){return a.navigateReportList(e)},extra:"\u5171".concat(e.value,"\u6b21")},r.a.createElement("span",{style:{fontSize:14,color:0===e.value?"#888":"#000"}},e.label))})},a.navigateReportList=function(e){if(0===e.value)return null;var t={label:e.label,url:e.url,startTime:a.state.startTime,stopTime:a.state.stopTime};a.props.history.push({pathname:"/report/list",state:Object(C.a)({},t)})},a.loadCount=function(e){(function(e){return A.apply(this,arguments)})().then(function(e){0===e.data.code&&a.setState({countData:e.data.data})}).catch(function(e){return console.log(e)})},a.handleReportTypeChange=function(){a.setState({weekReport:!a.state.weekReport});var e={};a.state.weekReport?(e.startTime=L.getMonthRange(0),e.stopTime=L.getNow()):(e.startTime=L.getWeekRange(0),e.stopTime=L.getNow()),_(e).then(function(t){a.setState({startTime:e.startTime,stopTime:e.stopTime,reportData:Object(C.a)({},t.data.data)})}).catch(function(e){return console.log(e)})},a.handleSubmit=function(){var e={startTime:a.state.startTime,stopTime:a.state.stopTime};a.loadData(e),a.setState({isShowModal:!1})},a.handleDateChange=function(e,t){"startTime"===e?a.setState(Object(O.a)({},e,x()(t).format("YYYY-MM-DD HH:mm:ss"))):a.setState(Object(O.a)({},e,x()(t).endOf("days").format("YYYY-MM-DD HH:mm:ss")))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){localStorage.clear()}},{key:"componentDidMount",value:function(){var e={startTime:this.state.startTime,stopTime:this.state.stopTime};this.loadData(e),this.loadCount(e)}},{key:"render",value:function(){var e=this;if(!this.state.reportData)return null;var t=this.state.reportData,a=[{label:"\u90e8\u4ef6\u68c0\u9a8c",value:t.partsInspectionNumber,url:"/api/report/partsInspection"},{label:"\u7ec4\u4ef6\u68c0\u9a8c",value:t.componentInspectionNumber,url:"/api/report/componentInspection"},{label:"\u4ea7\u54c1\u68c0\u9a8c",value:t.productInspectionNumber,url:"/api/report/productInspection"}],n=[{label:"\u4e09\u9632\u5237\u6f06",value:t.partsDefendNumber,url:"/api/report/partsDefend"},{label:"\u8f6f\u4ef6\u704c\u88c5\u53ca\u8bbe\u5907\u6821\u51c6",value:t.partsSoftInstallNumber,url:"/api/report/partsSoftInstall"},{label:"\u90e8\u4ef6\u529f\u80fd\u6d4b\u8bd5",value:t.partsFactoryInspectionNumber,url:"/api/report/partsFactoryInspection"},{label:"\u7ec4\u4ef6\u88c5\u914d",value:t.componentProduceNumber,url:"/api/report/componentProduce"},{label:"\u4ea7\u54c1\u88c5\u914d",value:t.productProduceNumber,url:"/api/report/productProduce"}],o=[{label:"\u90e8\u4ef6\u5165\u5e93",value:t.partsStockInNumber,url:"/api/report/partsStockIn"},{label:"\u7ec4\u4ef6\u5165\u5e93",value:t.componentStockInNumber,url:"/api/report/componentStockIn"},{label:"\u4ea7\u54c1\u5165\u5e93",value:t.productStockInNumber,url:"/api/report/productStockIn"}],l=[{label:"\u90e8\u4ef6\u51fa\u5e93",value:t.partsStockOutNumber,url:"/api/report/partsStockOut"},{label:"\u7ec4\u4ef6\u51fa\u5e93",value:t.componentStockOutNumber,url:"/api/report/componentStockOut"},{label:"\u4ea7\u54c1\u51fa\u5e93",value:t.productStockOutNumber,url:"/api/report/productStockOut"}];return r.a.createElement(Y.a,{renderHeader:function(){return r.a.createElement("div",null,r.a.createElement("span",null,"\u5de5\u4f5c\u62a5\u544a (",x()(e.state.startTime).format("YYYY-MM-DD"),"~",x()(e.state.stopTime).format("YYYY-MM-DD"),")"),r.a.createElement("span",{style:{marginLeft:"5%",color:"#3e9cfa"},onClick:function(){return e.handleReportTypeChange()}},e.state.weekReport?"\u6708\u62a5":"\u5468\u62a5"),r.a.createElement("span",{onClick:function(){e.setState({isShowModal:!e.state.isShowModal})},style:{marginLeft:"10%",color:"#3e9cfa"}},"\u66f4\u591a"))}},r.a.createElement(V,{data:this.state.countData}),r.a.createElement(z.a,{defaultActiveKey:"0"},r.a.createElement(z.a.Panel,{header:r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u68c0\u9a8c\u5de5\u4f5c")},this.panelContent(a))),r.a.createElement(z.a,{defaultActiveKey:"0"},r.a.createElement(z.a.Panel,{header:r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u7ec4\u88c5\u5de5\u4f5c")},this.panelContent(n))),r.a.createElement(z.a,{defaultActiveKey:"0"},r.a.createElement(z.a.Panel,{header:r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u5165\u5e93")},this.panelContent(o))),r.a.createElement(z.a,{defaultActiveKey:"0"},r.a.createElement(z.a.Panel,{header:r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u51fa\u5e93")},this.panelContent(l))),r.a.createElement(b.a,{visible:this.state.isShowModal,style:{width:"80%"},onClose:function(){e.setState({isShowModal:!1})},transparent:!0},r.a.createElement(Y.a,null,r.a.createElement(k.a,{mode:"date",value:new Date(this.state.startTime),onChange:function(t){return e.handleDateChange("startTime",t)}},r.a.createElement(K,{arrow:"down"},r.a.createElement("span",{style:{size:14}},"\u5f00\u59cb\u65f6\u95f4"))),r.a.createElement(k.a,{mode:"date",value:new Date(this.state.stopTime),onChange:function(t){return e.handleDateChange("stopTime",t)}},r.a.createElement(K,{arrow:"down"},r.a.createElement("span",{style:{size:14}},"\u7ed3\u675f\u65f6\u95f4"))),r.a.createElement(S.a,{type:"primary",size:"small",onClick:this.handleSubmit},"\u786e\u5b9a"))))}}]),t}(r.a.Component),V=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(!this.props.data)return null;var e=this.props.data,t=e.customerTaskCount,a=e.repairTaskCountData,n=e.automationProjectTaskCount;return r.a.createElement("div",null,r.a.createElement(z.a,{defaultActiveKey:"0"},r.a.createElement(z.a.Panel,{header:r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u552e\u540e\u4efb\u52a1")},r.a.createElement(K,{extra:r.a.createElement(E.a,{style:{backgroundColor:"#faad14",fontSize:18},text:"".concat(t.processingNumber)})},r.a.createElement("span",{style:{fontSize:14,color:"#888"}},"\u8fdb\u884c\u4e2d")),r.a.createElement(K,{extra:r.a.createElement(E.a,{style:{backgroundColor:"#52c41a",fontSize:18},text:"".concat(t.solvedNumber)})},r.a.createElement("span",{style:{fontSize:14,color:"#888"}},"\u5df2\u5b8c\u6210")),r.a.createElement(K,{extra:r.a.createElement(E.a,{style:{backgroundColor:"#1890ff",fontSize:18},text:"".concat(t.totalNumber)})},r.a.createElement("span",{style:{fontSize:14,color:"#888"}},"\u603b\u4efb\u52a1")))),r.a.createElement(z.a,{defaultActiveKey:"0"},r.a.createElement(z.a.Panel,{header:r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u7ef4\u4fee\u4efb\u52a1")},r.a.createElement(K,{extra:r.a.createElement(E.a,{style:{backgroundColor:"#faad14",fontSize:18},text:"".concat(a.processingNumber)})},r.a.createElement("span",{style:{fontSize:14,color:"#888"}},"\u8fdb\u884c\u4e2d")),r.a.createElement(K,{extra:r.a.createElement(E.a,{style:{backgroundColor:"#52c41a",fontSize:18},text:"".concat(a.solvedNumber)})},r.a.createElement("span",{style:{fontSize:14,color:"#888"}},"\u5df2\u5b8c\u6210")),r.a.createElement(K,{extra:r.a.createElement(E.a,{style:{backgroundColor:"#1890ff",fontSize:18},text:"".concat(a.totalNumber)})},r.a.createElement("span",{style:{fontSize:14,color:"#888"}},"\u603b\u4efb\u52a1")))),r.a.createElement(z.a,{defaultActiveKey:"0"},r.a.createElement(z.a.Panel,{header:r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u81ea\u52a8\u5316\u4efb\u52a1")},r.a.createElement(K,{extra:r.a.createElement(E.a,{style:{backgroundColor:"#faad14",fontSize:18},text:"".concat(n.processingNumber)})},r.a.createElement("span",{style:{fontSize:14,color:"#888"}},"\u8fdb\u884c\u4e2d")))))}}]),t}(r.a.Component),W=(a(218),a(103)),B=a.n(W),J=(a(93),a(74)),$=a.n(J),q=(a(228),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isShowModal:!1,type:void 0,operator:void 0},a.init=function(){var e={url:a.props.location.state.url,startTime:a.props.location.state.startTime,stopTime:a.props.location.state.stopTime};a.loadList(e)},a.loadList=function(e){(function(e){return R.apply(this,arguments)})(e).then(function(e){if(200===e.status&&0===e.data.code){var t=e.data.data;if(t.list.length){var n=[];t.types.map(function(e,t){var a={label:e,value:t};return n.push(a)});var r=[];t.operators.map(function(e,t){var a={label:e,value:t};return r.push(a)}),a.setState({list:t.list,operators:r,types:n})}}}).catch(function(e){return console.log(e)})},a.renderList=function(e){return e.map(function(e,t){return r.a.createElement(Y.a.Item,{key:e.id,extra:x()(e.time).format("YYYY-MM-DD"),arrow:"horizontal",onClick:function(){return a.props.history.push({pathname:"/report/list/detail",state:{reportDetail:e}})}},r.a.createElement("span",{style:{marginRight:15}},r.a.createElement(E.a,{size:"large",style:{backgroundColor:"".concat(0!==e.process_instance_type?1===e.process_instance_result?"#21b68a":"#BF0A10":"")},text:t+1})),r.a.createElement("span",{style:{fontSize:14}},e.name))})},a.handleNameChange=function(e){var t=a.state.types,n=[];t.length&&t.forEach(function(t){e[0]===t.value&&(n.push(t.label),a.setState({namePickerValue:n,type:t.label}))})},a.handleOperatorChange=function(e){var t=a.state.operators,n=[];t.length&&t.forEach(function(t){e[0]===t.value&&(n.push(t.label),a.setState({operatorPickerValue:n,operator:t.label}))})},a.handleFilterSubmit=function(){a.setState({isShowModal:!1});var e={url:a.props.location.state.url,startTime:a.props.location.state.startTime,stopTime:a.props.location.state.stopTime,operator:a.state.operator?a.state.operator:null,type:a.state.type?a.state.type:null};a.loadList(e)},a.handleShowAllList=function(){a.init()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.init()}},{key:"render",value:function(){var e=this;if(!this.state.list)return null;var t=this.state.list;return r.a.createElement("div",null,r.a.createElement(Y.a,{renderHeader:r.a.createElement("div",null,r.a.createElement("span",null,this.props.location.state.label,"\u5217\u8868 (",x()(this.props.location.state.startTime).format("YYYY-MM-DD"),"~",x()(this.props.location.state.stopTime).format("YYYY-MM-DD"),")"))},r.a.createElement(Y.a.Item,{extra:r.a.createElement("span",{onClick:function(){e.setState({isShowModal:!e.state.isShowModal})},style:{fontSize:14,color:"#3e9cfa"}},"\u7b5b\u9009")},r.a.createElement("span",{onClick:this.handleShowAllList,style:{fontSize:14,color:"#3e9cfa"}},"\u5168\u90e8"),r.a.createElement("span",{style:{fontSize:14,color:"#888",marginLeft:"50%"}},"\u5171",this.state.list.length,"\u6761\u8bb0\u5f55")),this.renderList(t)),r.a.createElement(b.a,{title:r.a.createElement("span",{style:{fontSize:14,color:"#888"}},"\u7b5b\u9009\u6761\u4ef6"),visible:this.state.isShowModal,style:{width:"80%"},transparent:!0,onClose:function(){e.setState({isShowModal:!1})}},r.a.createElement(Y.a,null,"/api/report/partsFactoryInspection"===this.props.location.state.url?null:r.a.createElement($.a,{onChange:function(t){return e.handleNameChange(t)},extra:this.state.namePickerValue?this.state.namePickerValue:r.a.createElement("span",{style:{fontSize:14}},"\u8bf7\u9009\u62e9"),data:this.state.types,cols:1},r.a.createElement(Y.a.Item,{arrow:"down"},r.a.createElement("span",{style:{fontSize:14,color:"#3e9cfa"}},"\u7269\u54c1\u540d\u79f0"))),r.a.createElement($.a,{onChange:function(t){return e.handleOperatorChange(t)},extra:this.state.operatorPickerValue?this.state.operatorPickerValue:r.a.createElement("span",{style:{fontSize:14}},"\u8bf7\u9009\u62e9"),data:this.state.operators,cols:1},r.a.createElement(Y.a.Item,{arrow:"down"},r.a.createElement("span",{style:{fontSize:14,color:"#3e9cfa"}},"\u64cd\u4f5c\u4eba\u5458")))),r.a.createElement(B.a,null),r.a.createElement(S.a,{onClick:this.handleFilterSubmit,type:"primary",size:"small"},"\u786e\u5b9a")))}}]),t}(r.a.Component)),G=(a(230),a(54)),Q=a.n(G),U=(a(235),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.location.state.reportDetail,t=[];return e.image&&null!==e.image&&(t=e.image.split(";")),r.a.createElement("div",{style:{width:"100%",height:"100vh"}},r.a.createElement(Y.a,{renderHeader:"\u5ba1\u6279\u8bb0\u5f55\u8be6\u60c5"},e.name?r.a.createElement(Y.a.Item,null,r.a.createElement(Q.a,null,r.a.createElement("div",{style:{flex:1}},r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u7269\u54c1\u540d\u79f0")),r.a.createElement("div",{style:{flex:1,textAlign:"right"}},r.a.createElement("span",{style:{color:"#888",fontSize:14}},e.name)))):null,r.a.createElement(Y.a.Item,{extra:e.number},r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u6570\u91cf")),e.position?r.a.createElement(Y.a.Item,{extra:e.position},r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u5b58\u653e\u4f4d\u7f6e")):null,e.received_person?r.a.createElement(Y.a.Item,{extra:e.received_person},r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},2===e.goods_type?"\u6536\u8d27\u4eba\u5458":"\u9886\u53d6\u4eba\u5458")):null,e.received_address?r.a.createElement(Y.a.Item,{extra:e.received_address},r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},2===e.goods_type?"\u6536\u8d27\u5730\u5740":"\u7269\u54c1\u53bb\u5411")):null,e.status?r.a.createElement(Y.a.Item,{extra:0===e.status?"\u5408\u683c":"\u4e0d\u5408\u683c"},r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u72b6\u6001")):null,e.soft_version?r.a.createElement(Y.a.Item,{extra:e.soft_version},r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u8f6f\u4ef6\u7248\u672c\u53f7")):null,r.a.createElement(Y.a.Item,{extra:1===e.process_instance_type?1===e.process_instance_result?"\u5ba1\u6279\u901a\u8fc7":"\u5ba1\u6279\u62d2\u7edd":"\u5f85\u5ba1\u6279"},1===e.processInstanceType?r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u5ba1\u6279\u7ed3\u679c"):r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u5ba1\u6279\u72b6\u6001")),r.a.createElement(Y.a.Item,{extra:e.operator},r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u64cd\u4f5c\u4eba\u5458")),r.a.createElement(Y.a.Item,null,r.a.createElement(Q.a,null,r.a.createElement("div",{style:{flex:1}},r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u64cd\u4f5c\u65f6\u95f4")),r.a.createElement("div",{style:{flex:1,textAlign:"right"}},r.a.createElement("span",{style:{color:"#888",fontSize:16}},x()(e.time).format("YYYY-MM-DD HH:mm:ss"))))),r.a.createElement(Y.a.Item,{extra:e.remark?e.remark:"\u65e0"},r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u5907\u6ce8")),r.a.createElement(Y.a.Item,{extra:0===t.length?"\u65e0":null},r.a.createElement("span",{style:{color:"#3e9cfa",fontSize:16}},"\u56fe\u7247")),0===t.length?"":r.a.createElement(Q.a,{wrap:"wrap"},t.map(function(e,t){return r.a.createElement("img",{key:t,style:{width:81,height:121,marginLeft:10,marginTop:10},alt:"\u56fe\u7247\u65e0\u6cd5\u663e\u793a",src:e})}))))}}]),t}(r.a.Component)),X=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(f.a,null,r.a.createElement(h.a,{exact:!0,path:"/report/list",component:q}),r.a.createElement(h.a,{exact:!0,path:"/report/list/detail",component:U}),r.a.createElement(h.a,{path:"/",component:F})))}}]),t}(r.a.Component);l.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,2,1]]]);